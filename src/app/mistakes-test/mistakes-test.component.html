<mat-card class="test-container" *ngIf="!showResult && mistakes.length > 0">
  <mat-card-header>
    <mat-card-title>Question {{ currentQuestionIndex + 1 }} / {{ mistakes.length }}</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <p class="prompt">
      Select the correct meaning for:
      <strong class="word">{{ currentWord }}</strong>
    </p>

    <mat-radio-group [(ngModel)]="selectedOption" class="options-group">
      <mat-radio-button
        *ngFor="let opt of options"
        [value]="opt"
        [disabled]="answered"
        class="option-item">
        {{ opt }}
      </mat-radio-button>
    </mat-radio-group>

    <div class="feedback" *ngIf="feedback">
      <p>{{ feedback }}</p>
    </div>
  </mat-card-content>

  <mat-card-actions class="actions">
    <button mat-raised-button color="primary" (click)="checkAnswer()" [disabled]="answered || !selectedOption">
      Check
    </button>
    <button mat-raised-button color="accent" (click)="nextQuestion()" [disabled]="!answered">
      Next
    </button>
    <button mat-button (click)="backToFlashcards()">Back</button>
  </mat-card-actions>
</mat-card>

<!-- No mistakes / finished view -->
<mat-card class="result-container" *ngIf="showResult">
  <mat-card-header>
    <mat-card-title *ngIf="noMistakes">No mistakes â€” well done! ðŸŽ‰</mat-card-title>
    <mat-card-title *ngIf="!noMistakes">Mistakes Test Completed</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <p *ngIf="!noMistakes">You got <strong>{{ score }}</strong> correct during this session.</p>
    <p *ngIf="noMistakes">You have no remaining mistakes.</p>
  </mat-card-content>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="retryTest()" *ngIf="!noMistakes"  >Retry Remaining </button>
    <button mat-raised-button color="accent" (click)="backToFlashcards()">Go to Flashcards</button>
  </mat-card-actions>
</mat-card>
